<mat-card class="order-list-wrapper">

    <div class="wrapper">
        <mat-card-title>List of orders</mat-card-title>
        <button class="create-button" mat-raised-button color="primary" [routerLink]="['/orders/new']">
            Create new order
        </button>
    </div>

    <ng-container *ngIf="state$ | async as state">
        <div *ngIf="state.type === 'loading'">
            <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
        </div>
        <div *ngIf="state.type === 'error'">
            ERROR: {{state.message}}
        </div>
        <div *ngIf="state.type === 'data'">
            <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let order of state.data">
                    <a [routerLink]="['/orders', order.id]">
                        Order: {{order.id}}
                    </a>
                </mat-list-item>
            </mat-list>
        </div>
    </ng-container>

</mat-card>
